<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll/dist/locomotive-scroll.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/@vueuse/shared"></script>
    <script src="https://unpkg.com/@vueuse/core"></script>
    <script src="https://unpkg.com/@vueuse/components"></script>
</head>
<body>
    
    <div style="position: relative; height: 500vh;">
        <div id="line-container">
            <!--<svg viewBox="0 0 2481 3508" fill="none" preserveAspectRatio="xMidYMax meet">
                <path d="M1240.16,0l0,828c0,0 -2.579,50.068 -45.34,69.459c-86.547,39.249 -182.999,66.402 -216.817,101.541c-33.638,34.952 -8.833,105.747 58,117c30.438,5.125 92,10.52 92,10.52c0,0 -16.333,-25.1 -16,-39.52c0.333,-14.42 7.5,-37.167 18,-47c10.5,-9.833 32.233,-17.444 46,-16c23.833,2.5 25.333,18.333 37,19c11.667,0.667 33,-15 33,-15c0,0 53.5,-40.833 76,-64c22.161,-22.818 47,-54.167 59,-75c8.595,-14.922 19.667,-44.333 13,-50c-6.667,-5.667 -37.132,6.578 -53,16c-21.333,12.667 -53.5,39.833 -75,60c-19.806,18.578 -41.833,42.5 -54,61c-9.797,14.897 -21.167,32.833 -21,47c0.055,4.672 3.785,7.398 6.915,10.173c5.289,4.69 14.433,10.65 15.085,27.827c0.43,11.325 -9.787,25.181 -20,33c-10.667,8.167 -34.281,13.164 -44,16c-12.357,3.605 -23.179,13.137 -20,16.52c8.668,9.224 65.956,15.121 94.666,34.804c21.609,14.815 16.491,45.676 16.491,45.676l0,855.741c0,0 0.366,32.018 -41,80.259c-25.887,30.19 -107.131,11.633 -152.157,86c-3.983,6.578 -4.778,18.292 -4.778,18.292l-0.222,135.913c0,-0 -2.319,40.383 17,64.795c12.464,15.75 38.615,22.499 65.269,23.269c26.653,0.769 43.693,-5.564 56.653,-19.654c24.573,-26.714 21,-64.981 21,-64.981l0.299,-139.458c0,-0 -3.849,-21.546 19.701,-20.176c33.51,1.95 34.222,137.833 53.235,178c10.714,22.633 19.703,42 36.843,53c16.611,10.66 47.333,17.5 66,13c18.667,-4.5 39.028,-15.253 49,-27c11.429,-13.464 12.833,-33.5 9,-45c-3.833,-11.5 -16.028,-22.899 -28,-29c-17.333,-8.833 -55.333,-15 -78,-22c-16.439,-5.077 -32.019,-13.654 -39,-24c-7.982,-11.831 -6.754,-48.018 -1,-57c6.833,-10.667 13.833,-26.667 35,-32c15.59,-3.928 31.028,-7.557 56,-3c16.964,3.095 24.556,8.944 42,22c20.576,15.401 37,48.316 37,107c0,35.326 -2.044,64.497 -23,92.937c-28,38 -99.75,109.342 -138,154.063c-62.247,72.777 -58.843,151 -58.843,151l0,3241" style="fill:none;stroke:#f00;stroke-width:11.51px;"/>
            </svg>-->
            <svg viewBox="0 0 3508 2481" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;" preserveAspectRatio="xMidYMax meet">
                <path d="M25,1861.47c191.689,35.192 412.36,105.988 575.068,105.574c138.493,-0.352 324.588,-84.873 401.181,-108.058c21.095,-6.385 46.991,-22.564 58.377,-31.051c5.937,-4.426 9.522,-15.733 9.936,-19.873c0.297,-2.971 -4.493,-5.363 -7.452,-4.968c-3.105,0.414 -8.822,3.645 -11.179,7.452c-2.691,4.347 -5.589,12.628 -4.968,18.631c0.621,6.003 3.105,17.596 8.694,17.389c5.59,-0.207 19.686,-9.656 24.841,-18.631c5.59,-9.729 7.421,-26.244 8.695,-39.746c3.105,-32.914 4.968,-121.099 9.936,-157.74c2.92,-21.537 8.369,-43.661 19.873,-62.102c14.076,-22.564 47.834,-45.361 64.586,-73.281c29.188,-48.647 79.491,-152.565 110.543,-218.6c27.389,-58.248 53.822,-138.281 75.764,-177.613c13.126,-23.526 34.961,-41.417 55.893,-58.376c28.36,-22.978 88.599,-62.724 114.268,-79.491c12.56,-8.205 32.914,-13.663 39.745,-21.115c5.323,-5.807 3.797,-16.148 1.243,-23.599c-4.969,-14.491 -25.462,-49.268 -31.052,-63.344c-2.615,-6.587 -5.865,-14.887 -2.484,-21.115c3.933,-7.245 16.312,-16.386 26.083,-22.357c11.179,-6.831 30.637,-10.764 40.988,-18.631c9.427,-7.165 18.009,-17.388 21.115,-28.567c3.105,-11.178 2.954,-26.849 -2.484,-38.503c-7.246,-15.526 -25.462,-41.816 -40.988,-54.65c-14.581,-12.054 -34.984,-18.631 -52.166,-22.357c-16.589,-3.598 -36.847,-7.246 -50.924,-0c-14.077,7.245 -27.569,26.17 -33.535,43.471c-8.281,24.013 -15.733,67.071 -16.147,100.606c-0.414,33.536 2.484,79.077 13.663,100.606c9.303,17.918 34.93,20.432 53.408,28.567c27.739,12.214 87.357,33.742 113.026,44.714c14.132,6.04 34.156,15.939 40.988,21.115c2.64,2 1.769,7.136 -0,9.936c-4.762,7.532 -20.46,22.486 -28.568,35.255c-8.28,13.041 -19.044,31.895 -21.114,42.994c-1.537,8.241 3.105,17.803 8.694,23.599c5.589,5.796 16.975,11.178 24.841,11.178c7.866,0 17.122,-4.696 22.357,-11.178c13.041,-16.147 44.506,-64.379 55.892,-85.701c6.911,-12.943 11.178,-32.294 12.42,-42.23c0.748,-5.982 -0.668,-13.164 -4.968,-17.389c-11.799,-11.592 -44.713,-37.675 -65.828,-52.166c-19.265,-13.221 -44.921,-25.255 -60.861,-34.777c-11.83,-7.068 -27.946,-17.389 -34.777,-22.357c-2.615,-1.902 -9.374,-6.786 -6.21,-7.452c3.933,-0.828 20.287,0.207 29.809,2.484c9.522,2.277 17.794,8.728 27.325,11.178c14.491,3.727 39.746,9.109 59.618,11.179c19.77,2.059 40.574,1.656 59.619,1.242c18.254,-0.397 43.264,-0.207 54.65,-3.726c7.042,-2.177 11.681,-10.289 13.662,-17.389c2.484,-8.901 4.347,-25.669 1.242,-36.019c-3.105,-10.351 -13.041,-20.701 -19.873,-26.083c-5.762,-4.541 -14.116,-8.41 -21.114,-6.21c-7.246,2.277 -18.522,10.668 -22.357,19.872c-4.14,9.937 -4.667,26.652 -2.484,39.746c2.277,13.662 9.108,32.086 16.146,42.229c6.091,8.779 16.768,14.491 26.083,18.631c9.275,4.122 21.943,1.656 29.809,6.21c7.867,4.555 12.199,13.619 17.389,21.115c5.589,8.073 8.769,19.742 16.147,27.325c7.452,7.66 18.63,13.456 28.567,18.631c9.887,5.149 22.564,10.557 31.051,12.42c6.483,1.423 16.561,1.656 19.873,-1.242c3.312,-2.898 1.863,-12.627 -0,-16.146c-1.863,-3.519 -8.695,-5.382 -11.179,-4.968c-2.484,0.414 -5.237,5.122 -3.726,7.452c1.863,2.872 11.386,7.919 14.905,9.782c1.875,0.993 4.554,2.613 6.21,1.396c1.656,-1.216 3.624,-5.543 3.726,-8.694c0.207,-6.417 -0.674,-20.004 -2.484,-29.809c-2.484,-13.456 -9.522,-37.676 -12.42,-50.924c-2.066,-9.442 -6.418,-20.08 -4.969,-28.567c1.449,-8.488 8.999,-14.973 13.663,-22.357c4.968,-7.866 12.967,-15.491 16.147,-24.841c3.519,-10.35 4.761,-26.29 4.968,-37.261c0.181,-9.602 -0.414,-22.15 -3.726,-28.568c-2.899,-5.615 -17.803,-6.417 -16.147,-9.936c1.656,-3.519 17.226,-7.857 26.083,-11.178c9.936,-3.727 24.427,-7.66 33.535,-11.179c7.256,-2.803 17.803,-6.624 21.115,-9.936c2.36,-2.36 1.306,-7.78 -1.242,-9.937c-5.382,-4.554 -22.564,-13.248 -31.051,-17.388c-6.359,-3.102 -15.334,-5.354 -22.357,-6.21c-8.487,-1.036 -19.252,-1.243 -28.567,-0c-8.46,1.128 -16.379,2.981 -23.625,6.293c-7.004,3.202 -14.31,8.227 -19.847,13.579c-6.21,6.004 -13.869,15.319 -18.631,22.357c-4.149,6.135 -9.522,13.663 -9.936,19.873c-0.414,6.21 0.299,12.144 3.726,14.904c4.733,3.812 13.682,2.363 16.147,0c4.968,-4.761 12.627,-16.353 17.389,-26.083c4.201,-8.585 9.853,-16.617 11.178,-26.083c1.449,-10.35 0.152,-25.619 -4.968,-36.019c-6.624,-13.455 -22.301,-32.304 -37.262,-45.956c-16.56,-15.111 -38.518,-31.603 -59.618,-44.713c-21.322,-13.249 -44.051,-26.759 -68.313,-34.778c-24.426,-8.073 -55.685,-10.764 -78.249,-13.662c-18.929,-2.432 -38.145,-5.643 -57.134,-3.726c-22.564,2.277 -53.201,8.487 -78.249,17.388c-25.048,8.902 -49.372,21.632 -72.038,36.02c-23.806,15.111 -51.545,37.882 -70.797,54.65c-16.117,14.037 -30.976,29.583 -44.714,45.956c-15.111,18.009 -31.426,40.84 -45.956,62.102c-16.974,24.841 -40.159,58.376 -55.892,86.943c-14.926,27.103 -26.911,56.513 -38.503,84.459c-11.344,27.348 -22.15,57.756 -31.051,83.218c-8.037,22.988 -16.354,55.478 -22.357,69.554c-2.644,6.2 -7.246,16.354 -13.663,14.905c-6.417,-1.449 -16.464,-15.835 -24.841,-23.599c-16.974,-15.733 -49.061,-52.58 -77.007,-70.797c-27.507,-17.93 -60.86,-29.809 -90.669,-38.503c-28.556,-8.329 -58.5,-15.554 -88.186,-13.663c-32.5,2.07 -77.628,11.593 -106.816,26.083c-27.316,13.561 -50.096,38.918 -68.312,60.861c-17.418,20.98 -30.544,45.607 -40.988,70.796c-10.557,25.462 -17.828,54.017 -22.357,81.975c-4.761,29.396 -7.887,62.907 -6.21,94.396c1.863,34.984 6.692,78.071 17.389,115.51c11.178,39.125 35.191,88.6 49.682,119.237c10.627,22.468 24.841,48.233 37.261,64.587c10.107,13.307 29.602,28.567 37.261,33.535c2.646,1.716 7.119,-0.995 8.695,-3.726c3.105,-5.383 9.281,-18.507 9.936,-28.567c2.898,-44.507 0.414,-180.718 7.452,-238.474c4.578,-37.561 20.494,-83.249 34.778,-108.058c10.852,-18.848 37.468,-33.132 50.924,-40.792c8.764,-4.988 19.796,-6.365 29.809,-5.163c11.799,1.416 26.821,11.068 40.987,13.662c14.698,2.691 31.491,3.705 47.198,2.484c18.217,-1.416 45.542,-5.186 62.103,-10.983c13.909,-4.868 29.395,-16.516 37.261,-23.794c5.436,-5.03 8.487,-15.112 9.936,-19.873c0.853,-2.801 0.828,-7.659 -1.242,-8.694c-2.07,-1.035 -8.642,-0.369 -11.178,2.484c-3.312,3.726 -10.701,12.926 -8.694,19.873c2.691,9.315 13.021,27.474 24.841,36.019c17.181,12.42 54.443,30.016 78.249,38.503c20.65,7.363 45.334,11.179 64.586,12.421c17.02,1.098 38.09,0.207 50.924,-4.968c11.403,-4.598 20.819,-14.971 26.083,-26.083c5.589,-11.8 9.729,-30.844 7.452,-44.714c-2.277,-13.87 -11.076,-27.85 -21.115,-38.503c-10.143,-10.765 -24.84,-21.115 -39.745,-26.083c-14.905,-4.969 -33.397,-6.984 -49.682,-3.727c-18.631,3.727 -45.335,13.042 -62.102,26.083c-16.768,13.042 -28.528,32.994 -38.504,52.166c-13.248,25.462 -32.707,68.106 -40.987,100.606c-7.802,30.62 -7.905,62.807 -8.695,94.396c-0.828,33.121 1.449,75.351 3.726,104.332c1.835,23.348 11.8,48.233 9.937,69.555c-1.801,20.613 -15.507,38.458 -21.115,58.376c-6.003,21.322 -13.73,45.872 -14.905,69.554c-1.242,25.048 6.004,54.65 7.453,80.733c1.401,25.22 -1.656,57.756 1.242,75.765c1.912,11.883 4.356,29.877 16.146,32.294c58.584,12.006 222.811,37.396 335.353,39.745c119.03,2.484 256.151,6.225 378.825,-24.841c143.87,-36.433 413.395,-137.453 484.398,-193.759c40.602,-32.197 -10.457,-124.358 -58.376,-144.078c-50.303,-20.701 -191.896,-13.455 -243.441,19.873c-51.545,33.328 -109.309,133.248 -65.829,180.097c58.79,63.344 297.057,162.087 418.57,199.97c99.195,30.924 207.57,41.43 310.512,27.325c142.008,-19.459 406.978,-94.396 541.533,-144.078c96.059,-35.468 177.199,-102.676 265.798,-154.014" style="fill:none;stroke:url(#_Linear1);stroke-width:11.51px;"/>
                <defs><linearGradient id="_Linear1" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(3397,0,0,1453.78,25,1240.16)"><stop offset="0" style="stop-color:#ff8400;stop-opacity:1"/><stop offset="0.53" style="stop-color:#a73aa0;stop-opacity:1"/><stop offset="1" style="stop-color:#861edc;stop-opacity:1"/></linearGradient></defs></svg>
        </div>

        <section>
            <h1>test</h1>
            <UseElementVisibility v-slot="{ isVisible }">
                Is Visible: {{ isVisible }}
              </UseElementVisibility>
        </section>
    </div>

</body>
<style>
    body {
        height: 500vh;
        margin: 0;
    }

    #line-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        text-align: center;
        overflow: hidden;
    }

    svg {
        display: inline-block;
        height: 100%;
    }
</style>
<script>
    let path = document.querySelector('path')
    let container = document.getElementById('line-container')
    let pathLength = path.getTotalLength()

    path.style.strokeDasharray = pathLength + ' ' + pathLength;

    path.style.strokeDashoffset = pathLength;

    let prevScroll = 0;

    window.addEventListener('scroll', () => {

        var scrollPercentage = (document.documentElement.scrollTop + document.body.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight)

        var drawLength = pathLength * scrollPercentage;

        path.style.strokeDashoffset = pathLength - drawLength;

        //container.style.transform = "translateY(-" + scrollPercentage * 100 + "%)";

        if (scrollPercentage != prevScroll) {
            prevScroll = scrollPercentage;
            console.log("changed scroll");
        }
    })

</script>
</html>